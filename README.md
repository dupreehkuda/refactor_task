# Сервис хранения пользователей
## Отчет о проделанной работе

Были соблюдены все условия:
- Хранилищем остался файл в json формате.
- Структура пользователя не уменьшена.
- Приложение не потеряло существующую функциональность. 

### Архитектура

В первую очередь использовал архитектуру, при которой все сущности имеют минимальное зацепление, все передается через интерфейс слоя.

Слой должен подходить под нужный [интерфейс](internal/interfaces/interfaces.go).  
Таким образом можно дописать слой общения с бд так, чтобы он подходил под интерфейс `Storer` и подсунуть его вместо слоя записи в JSON.

### Запуск

Добавлена возможность конфигурировать сервис из переменных окружения `RUN_ADDRESS` и `FILE_STORAGE_PATH`, 
а также через переменные окружения `-a` и `-f` соответственно. 

В качестве дефолтных значения установлены порт `:3333` и файл в папке проекта `./users.json`.

Запустить можно командой:
```sh
go run cmd/main.go
```

### Дополнительно

Добавлен также graceful shutdown для корректного завершения сервиса.

Также учитывались моменты из ТЗ:
- _**В будущем это приложение ожидает увеличение количества функций и сущностей.**_   
    При увеличении количества функций и сущностей я бы пошел еще дальше 
    и добавил бы между хэндлерами и хранилищем третий промежуточный слой бизнес-логики.  
    Таким образом сущности/слои хэндлеров и хранилища могут меняться не нарушая логики сервиса


- **_Вопрос авторизации умышленно опущен, о нем не стоит беспокоиться._**  
    Если бы нужно было реализовывать авторизацию, сделал бы регистрацию login/password с выдачей JWT-токена.
    

- **_API еще не выпущено, вы в праве скорректировать интерфейс / форматы ответов._**  
    При сделанном объеме рефакторинга принял решение не менять форматы ответов. 
    Однако на мой взгляд при возвращении ошибки не стал бы записывать её в ответ, постарался бы отдать подходящий http код, чтобы клиент понял суть ошибки.